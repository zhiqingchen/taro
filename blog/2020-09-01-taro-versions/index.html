<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="search" type="application/opensearchdescription+xml" title="Taro 文档" href="/taro/opensearch.xml">
<script src="https://storage.jd.com/taro-resource/tongji.js" async></script>
<script src="https://storage.jd.com/taro-docs/taro-doc-hotjar.js" async></script><title data-react-helmet="true">Taro 版本升级权威指南 | Taro 文档</title><meta data-react-helmet="true" property="og:title" content="Taro 版本升级权威指南 | Taro 文档"><meta data-react-helmet="true" name="description" content="你是否对 Taro 辣么多版本感到非常困惑？你是否对升级 Taro 感到束手无策？本篇文章将为你答疑解惑，全面解读 Taro 开发那些事儿。"><meta data-react-helmet="true" property="og:description" content="你是否对 Taro 辣么多版本感到非常困惑？你是否对升级 Taro 感到束手无策？本篇文章将为你答疑解惑，全面解读 Taro 开发那些事儿。"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/taro/./img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/taro/styles.a3676d9f.css">
<link rel="preload" href="/taro/styles.d18047fa.js" as="script">
<link rel="preload" href="/taro/runtime~main.0669a4bd.js" as="script">
<link rel="preload" href="/taro/main.8b5eee3f.js" as="script">
<link rel="preload" href="/taro/1.8f28a8b3.js" as="script">
<link rel="preload" href="/taro/2.2e73083e.js" as="script">
<link rel="preload" href="/taro/01a85c17.a718bae6.js" as="script">
<link rel="preload" href="/taro/18b93cb3.e828def7.js" as="script">
<link rel="preload" href="/taro/1737.47ebaba8.js" as="script">
<link rel="preload" href="/taro/5fc994c2.eeb2e112.js" as="script">
<link rel="preload" href="/taro/6875c492.c92d2928.js" as="script">
<link rel="preload" href="/taro/a6aa9e1f.4c6581a9.js" as="script">
<link rel="preload" href="/taro/c42b0552.a188fe18.js" as="script">
<link rel="preload" href="/taro/ccc49370.85e25f40.js" as="script">
<link rel="preload" href="/taro/75e89b51.916b0b22.js" as="script">
<link rel="preload" href="/taro/422fde27.c350d3a9.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/taro/docs/README">3.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/taro/docs/next/README">下个版本</a></li><li><a class="dropdown__link" href="/taro/docs/README">3.x</a></li><li><a class="dropdown__link" href="/taro/docs/2.x/README">2.x</a></li><li><a class="dropdown__link" href="/taro/docs/1.x/README">1.x</a></li><li><a class="dropdown__link" href="/taro/versions">全部版本</a></li></ul></div><a class="navbar__item navbar__link" href="/taro/docs/README">文档</a><a class="navbar__item navbar__link" href="/taro/docs/components-desc">组件库</a><a class="navbar__item navbar__link" href="/taro/docs/apis/about/desc">API</a><a class="navbar__item navbar__link" href="/taro/docs/guide">教程</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/taro/blog">博客</a><a href="https://github.com/NervJS/taro/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">论坛</a><a href="https://github.com/NervJS/taro/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">问题反馈</a></div><div class="navbar__items navbar__items--right"><a href="https://nutui.jd.com/#/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">NutUI</a><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taro UI</a><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">物料市场</a><a class="navbar__item navbar__link" href="/taro/showcase">案例</a><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">京东小程序</a><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/taro/docs/next/README">下个版本</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/README">3.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/2.x/README">2.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/1.x/README">1.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/versions">全部版本</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/README">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/components-desc">组件库</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/apis/about/desc">API</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/guide">教程</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/taro/blog">博客</a></li><li class="menu__list-item"><a href="https://github.com/NervJS/taro/discussions" target="_blank" rel="noopener noreferrer" class="menu__link">论坛</a></li><li class="menu__list-item"><a href="https://github.com/NervJS/taro/issues" target="_blank" rel="noopener noreferrer" class="menu__link">问题反馈</a></li><li class="menu__list-item"><a href="https://nutui.jd.com/#/" target="_blank" rel="noopener noreferrer" class="menu__link">NutUI</a></li><li class="menu__list-item"><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taro UI</a></li><li class="menu__list-item"><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">物料市场</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/showcase">案例</a></li><li class="menu__list-item"><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="menu__link">京东小程序</a></li><li class="menu__list-item"><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_3I7I thin-scrollbar"><h3 class="sidebarItemTitle_2Dv3">最近更新</h3><ul class="sidebarItemList_1RlG"><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2021-08-13-Taro-3.3">Taro 正式发布 3.3 版本：支持使用 H5 标签与框架 DevTools</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2021-04-22-Taro-3.3-alpha">Taro 3.3 alpha 发布：用 ant-design 开发小程序？</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2021-04-08-taro-3.2">Taro 3.2 版本正式发布：React Native 支持，王者归来</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2021-03-10-taro-3-1-lts">Taro 正式发布 3.1 版本</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2021-02-08-taro-jxpp">Taro 助力京喜拼拼项目性能体验优化</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Taro 版本升级权威指南</h1><div class="margin-vert--md"><time datetime="2020-09-01T00:00:00.000Z" class="blogPostDate_3bQP">September 1, 2020  · 6 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/luckyadam" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1782542?s=460&amp;u=d20514a52100ed1f82282bcfca6f49052793c889&amp;v=4" alt="隔壁老李"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/luckyadam" target="_blank" rel="noreferrer noopener">隔壁老李</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p><img src="https://storage.360buyimg.com/taro-resource/taro_version2.jpg"></p><blockquote><p><a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro</a> 是一款由京东<a href="https://aotu.io" target="_blank" rel="noopener noreferrer">凹凸实验室</a>推出的开放式跨端跨框架解决方案，致力于解决小程序、H5、React Native 的跨端同构问题，支持同时使用 React 和 Vue 来进行开发。本文由 Taro 团队成员隔壁老李撰写，旨在帮助 Taro 开发者厘清当前 Taro 多版本之间关系的那些事儿，同时解答有关 Taro 3、Taro RN 支持以及 Taro UI 的一些困惑。</p></blockquote><p> 自从 Taro 在今年 7 月份推出 <a href="https://juejin.im/post/6844904205367377933" target="_blank" rel="noopener noreferrer">3.0 版本</a>，宣布同时支持 React 和 Vue 来开发跨端应用之后，Taro 的关注度得到了进一步地提升，很多开发者开始尝试升级自身项目到 3.0 来体验新的特性，同时，Taro 社区也开始迎来一些新朋友，业界有很多 Vue 开发者在做技术选型时开始将目光投向 Taro。</p><p>但由于 Taro 大版本之间差异较大，而社区内很多关于 Taro 的教程文章以及示例项目目前还停留 Taro 1/2 时代，导致很多开发者使用 Taro 3.0 尝试时出现奇怪的问题，所以 Taro 团队想通过本文帮助大家理解 Taro 各个版本之间的联系，协助大家更好地完成版本迁移，避免出现一些难以解决的奇怪问题。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="区分-taro-版本的火眼金睛"></a>区分 Taro 版本的火眼金睛<a class="hash-link" href="#区分-taro-版本的火眼金睛" title="Direct link to heading">#</a></h2><p>Taro 目前有 3 个大版本，但如果按照架构来真正划分时代的话，Taro 1/2 属于第一代架构，而 Taro 3 则属于第二代架构，两代架构差异巨大，甚至可以完全认为是 2 个框架。当然，这只是对于框架内核而言，对于开发者，Taro 团队已经尽量在保证大版本之间的兼容性，着力降低版本迁移的难度。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-12"></a>Taro 1/2<a class="hash-link" href="#taro-12" title="Direct link to heading">#</a></h3><p>Taro 1/2 属于编译型架构，主要通过对类 React 代码进行语法编译转换地方式，得到各个端可以运行的代码，再配合非常轻量的运行时适配，以及根据标准组件库、API 进行差异抹平，从而实现多端适配的目的，整体架构如下。</p><p><img src="https://storage.360buyimg.com/taro-resource/taro1.jpg"></p><p>而 Taro 1 与 Taro 2 的都是基于这种架构建立的方案，他们之间的区别主要是 Taro 1 在小程序端是自建构建体系，而 Taro 2 则是所有端都采用 Webpack 进行编译，可以降低 Taro 自身编译系统的复杂度，同时能够让开发者使用 Webpack 的生态来自定义编译过程和结果，可以认为 Taro 2 是 Taro 1 和 3 之间的一个过渡性版本。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-3"></a>Taro 3<a class="hash-link" href="#taro-3" title="Direct link to heading">#</a></h3><p>Taro 3 则可以大致理解为解释型架构（相对于 Taro 1/2 而言），主要通过在小程序端模拟实现 DOM、BOM API 来让前端框架直接运行在小程序环境中，从而达到小程序和 H5 统一的目的，而对于生命周期、组件库、API、路由等差异，我们依然可以通过定义统一标准，各端负责各自实现的方式来进行抹平。而正因为 Taro 3 的原理，所以我们可以在 Taro 3 中同时支持 React、Vue 等框架，甚至我们还支持了 jQuery，在不久的将来我们还能支持让开发自定义地去拓展其他框架的支持，比如 Angular，Taro 3 整体架构如下。</p><p><img src="https://storage.360buyimg.com/taro-resource/taro2.jpg"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="版本选择的取舍"></a>版本选择的取舍<a class="hash-link" href="#版本选择的取舍" title="Direct link to heading">#</a></h3><p>通过上述内容可以看出，Taro 两代架构之间差异巨大，从而也就导致了他们之间的特性也很不一样。Taro 1/2 和 Taro 3 之间特性的差异主要体现在开发体验与性能上。</p><p>从开发体验上看，Taro 3 明显是优于 Taro 1/2 的，受益于 Taro 3 架构的原理，我们可以在 Taro 3 中使用完整的 React、Vue 语法特性来进行开发，从而在开发体验上让多端开发无限接近于 Web 开发，这对深耕 Web 而初次接触小程序的开发者来说是非常友好的。而对 Taro 熟悉的朋友肯定知道 Taro 1/2 在开发时会有诸多限制，尤其是在 JSX 书写上，我们总会需要一些手段来绕过这些限制，这就导致开发体验小有不足。</p><p>从性能上看，某些情况下 Taro 1/2 会优于 Taro 3，如果你的应用非常复杂，页面节点非常多，有非常多的大规模更新操作，对性能要求比较苛刻的话，Taro 1/2 会是不错的选择，而 Taro 1 和 2 我们更推荐使用 Taro 2。当然，根据我们的测试，对于大部分应用来说 Taro 1/2 和 Taro 3 的性能差异并不明显，我们后续会给出 benchmark 来印证这一点，而且，对于 Taro 3 本身在性能存在劣势的场景，Taro 官方团队已经给出了相应的解决方案来应对。比如，提升首次渲染速度，我们可以使用<a href="https://nervjs.github.io/taro/docs/prerender" target="_blank" rel="noopener noreferrer">预渲染</a>；对于无限滚动加载的列表场景，我们提供了<a href="https://nervjs.github.io/taro/docs/virtual-list" target="_blank" rel="noopener noreferrer">虚拟列表组件</a>。</p><p>对于开发者来说，开发体验和性能往往是需要权衡来寻找平衡点的，缺一不可，所以现阶段，我们更加推荐使用 Taro 3 来开发多端应用。而且现阶段 Taro 团队的研发重心主要放在 Taro 3 上，新的特性会优先在 Taro 3 上进行尝试，所以，在未来 Taro 3 将更具有想象力，会有更多好玩的东西推出来。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="平滑升级不完全指南"></a>平滑升级不完全指南<a class="hash-link" href="#平滑升级不完全指南" title="Direct link to heading">#</a></h2><p>Taro 2 和 Taro 3 都有对应的迁移指南，根据迁移指南往往能规避大部分的问题。</p><p>Taro 1 升级到 Taro 2 的<a href="https://nervjs.github.io/taro/docs/2.x/migrate-to-2" target="_blank" rel="noopener noreferrer">迁移指南</a>。</p><p>Taro 1/2 升级到 Taro 3 的<a href="https://nervjs.github.io/taro/docs/migration" target="_blank" rel="noopener noreferrer">迁移指南</a>。</p><p>当然，迁移指南肯定无法覆盖到所有问题所有情况，我们在 Taro 交流群的日常交流中总是能观察到一些迁移的问题，所以在这里，我们将梳理一遍迁移指南，同时就一些常见的问题，再做一些说明补充，来解答开发者们的升级困惑。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-1-升级到-taro-2"></a>Taro 1 升级到 Taro 2<a class="hash-link" href="#taro-1-升级到-taro-2" title="Direct link to heading">#</a></h3><p>Taro 1 升 Taro 2 所需要做的工作并不多，根据<a href="https://nervjs.github.io/taro/docs/2.x/migrate-to-2" target="_blank" rel="noopener noreferrer">迁移指南</a>，主要是新增了一个 <code>@tarojs/mini-runner</code> 依赖，以及对编译配置的调整，而在这里容易出问题的往往是在编译配置调整中，所以我们总结了一下针对编译配置的调整内容。</p><ul><li><code>plugins</code> 配置调整，调整前是一个对象，调整后为一个数组，用来配置 <a href="https://nervjs.github.io/taro/docs/2.x/config-detail#plugins" target="_blank" rel="noopener noreferrer">Taro 插件</a>，非常值得注意的是这个配置请与 <code>babel</code> 配置里的 <code>plugins</code> 区分开来，后者是用来配置 babel 插件的，这是一个非常常见的配置错误</li><li><code>babel</code>、<code>csso</code>、<code>uglify</code> 等配置从旧的 <code>plugins</code> 配置中移出来了，调整为与 <code>sourceRoot</code> 和 <code>outputRoot</code> 等同级的配置项</li><li><code>weapp</code> 配置项改名为 <code>mini</code></li><li><code>postcss</code> 配置项下去掉 <code>module</code> 这一级配置，原 <code>module</code> 下的配置项直接置于 <code>postcss</code> 下</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="关于-async-functions-的使用"></a>关于 async functions 的使用<a class="hash-link" href="#关于-async-functions-的使用" title="Direct link to heading">#</a></h4><p>同时，从 Taro 2 开始，使用 async functions 不再需要安装 <code>@tarojs/async-await</code> 依赖了，而是通过安装 babel 插件 <code>babel-plugin-transform-runtime</code> 配合 <code>babel-runtime</code> 来实现支持，具体请查看文档<a href="https://nervjs.github.io/taro/docs/2.x/async-await" target="_blank" rel="noopener noreferrer">异步编程指南</a>。</p><p>而在 Taro 3 中则不再需要手动安装配置，Taro 的官方 babel 预设 <code>babel-preset-taro</code> 已经内置了相关配置。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-12-升级到-taro-3"></a>Taro 1/2 升级到 Taro 3<a class="hash-link" href="#taro-12-升级到-taro-3" title="Direct link to heading">#</a></h3><p>Taro 1/2 升级到 Taro 3 则相对来说要麻烦许多，但是<a href="https://nervjs.github.io/taro/docs/migration" target="_blank" rel="noopener noreferrer">迁移指南</a>中其实介绍得已经非常详细了，我们在这里总结一下需要调整的内容。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="文件调整"></a>文件调整<a class="hash-link" href="#文件调整" title="Direct link to heading">#</a></h4><p>文件调整主要如下：</p><ul><li><strong>babel 配置</strong>，在项目目录下新增了 <a href="https://github.com/NervJS/taro/blob/next/packages/babel-preset-taro/README.md" target="_blank" rel="noopener noreferrer"><code>babel.config.js</code></a> 配置文件来配置 babel，为此，请去掉编译配置（config/index.js）中的 <code>babel</code> 配置，<a href="https://nervjs.github.io/taro/docs/migration/#%E7%BC%96%E8%AF%91%E4%BE%9D%E8%B5%96%E5%BA%93" target="_blank" rel="noopener noreferrer">请参见说明</a></li><li><strong>项目/页面配置</strong>，新增项目/页面同名的配置文件 <code>*.config.js</code>（或者 <code>*.config.ts</code>）, <code>*</code> 代表页面/项目文件的文件名，<code>config</code> 文件必须和页面/项目文件在同一文件夹，<a href="https://nervjs.github.io/taro/docs/migration/#%E9%A1%B9%E7%9B%AE%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">请参见说明</a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="编译配置调整"></a>编译配置调整<a class="hash-link" href="#编译配置调整" title="Direct link to heading">#</a></h4><p>主要参考上述 Taro 1 升级到 Taro 2 时的调整，新增 Taro 3 特有配置 framework 配置，取值为使用的框架（react, nerv, vue, vue3），<a href="https://nervjs.github.io/taro/docs/migration/#%E7%BC%96%E8%AF%91%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">请参见说明</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="项目依赖调整"></a>项目依赖调整<a class="hash-link" href="#项目依赖调整" title="Direct link to heading">#</a></h4><p>在 Taro 3 中有很多旧的项目依赖已经不再需要了，例如之前做平台运行时兼容的 <code>@tarojs/taro-weapp</code>、<code>@tarojs/taro-alipay</code> 等等，而同时也新增了一些新依赖项，例如 <code>@tarojs/runtime</code> 等，具体 Taro 3 会需要哪些依赖，可以通过创建 Taro 示例项目看到，在这里我们列出了 Taro 3 目前仍需使用的 NPM 包名及其具体作用。</p><table><thead><tr><th>NPM 包</th><th align="left">描述</th></tr></thead><tbody><tr><td><a href="https://www.npmjs.com/package/babel-preset-taro" target="_blank" rel="noopener noreferrer"><code>babel-preset-taro</code></a></td><td align="left">给 Taro 项目使用的 babel preset</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro" target="_blank" rel="noopener noreferrer"><code>@tarojs/taro</code></a></td><td align="left">暴露给应用开发者的 Taro 核心 API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/shared" target="_blank" rel="noopener noreferrer"><code>@tarojs/shared</code></a></td><td align="left">Taro 内部使用的 utils</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/api" target="_blank" rel="noopener noreferrer"><code>@tarojs/api</code></a></td><td align="left">暴露给 @tarojs/taro 的所有端的公有 API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro-h5" target="_blank" rel="noopener noreferrer"><code>@tarojs/taro-h5</code></a></td><td align="left">暴露给 @tarojs/taro 的 H5 端 API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/router" target="_blank" rel="noopener noreferrer"><code>@tarojs/router</code></a></td><td align="left">Taro H5 路由</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/react" target="_blank" rel="noopener noreferrer"><code>@tarojs/react</code></a></td><td align="left">基于 react-reconciler 的小程序专用 React 渲染器</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/cli" target="_blank" rel="noopener noreferrer"><code>@tarojs/cli</code></a></td><td align="left">Taro 开发工具</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/extend" target="_blank" rel="noopener noreferrer"><code>@tarojs/extend</code></a></td><td align="left">Taro 扩展，包含 jQuery API 等</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/helper" target="_blank" rel="noopener noreferrer"><code>@tarojs/helper</code></a></td><td align="left">内部给 CLI 和 runner 使用辅助方法集</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/service" target="_blank" rel="noopener noreferrer"><code>@tarojs/service</code></a></td><td align="left">Taro 插件化内核</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro-loader" target="_blank" rel="noopener noreferrer"><code>@tarojs/taro-loader</code></a></td><td align="left">露给 @tarojs/mini-runner 和 @tarojs/webpack-runner 使用的 Webpack loader</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/runner-utils" target="_blank" rel="noopener noreferrer"><code>@tarojs/runner-utils</code></a></td><td align="left">暴露给 @tarojs/mini-runner 和 @tarojs/webpack-runner 的公用工具函数</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/webpack-runner" target="_blank" rel="noopener noreferrer"><code>@tarojs/webpack-runner</code></a></td><td align="left">Taro H5 端 Webpack 打包编译工具</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/mini-runner" target="_blank" rel="noopener noreferrer"><code>@tarojs/mini-runner</code></a></td><td align="left">Taro 小程序 端 Webpack 打包编译工具</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/components" target="_blank" rel="noopener noreferrer"><code>@tarojs/components</code></a></td><td align="left">Taro 标准组件库，H5 版</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taroize" target="_blank" rel="noopener noreferrer"><code>@tarojs/taroize</code></a></td><td align="left">Taro 小程序反向编译器</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/with-weapp" target="_blank" rel="noopener noreferrer"><code>@tarojs/with-weapp</code></a></td><td align="left">反向转换的运行时适配器</td></tr><tr><td><a href="https://www.npmjs.com/package/eslint-config-taro" target="_blank" rel="noopener noreferrer"><code>eslint-config-taro</code></a></td><td align="left">Taro ESLint 规则</td></tr><tr><td><a href="https://www.npmjs.com/package/eslint-plugin-taro" target="_blank" rel="noopener noreferrer"><code>eslint-plugin-taro</code></a></td><td align="left">Taro ESLint 插件</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="代码调整"></a>代码调整<a class="hash-link" href="#代码调整" title="Direct link to heading">#</a></h4><p>代码调整主要如下：</p><ul><li><strong>API 引入</strong>，前端框架（React/Nerv/Vue）自身的 API 直接从框架引入，与 Web 保持一致，只有 Taro 提供的相关 API，还是从 <code>@tarojs/taro</code> 引入，<a href="https://nervjs.github.io/taro/docs/migration/#api" target="_blank" rel="noopener noreferrer">请参见说明</a></li><li><strong>App 代码调整</strong>，对于 React/Nerv 项目，项目入口 App 的 render 函数固定修改为返回 <code>this.props.children</code>，如下</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Component </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./app.scss&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">children</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> App</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ul><li><strong>路由功能</strong>，使用 <code>getCurrentInstance().router</code> 替代 <code>this.$router</code>，<code>getCurrentInstance</code> 作为新 API 从 <code>@tarojs/taro</code> 引入，<a href="https://nervjs.github.io/taro/docs/migration/#%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener noreferrer">请参见说明</a></li><li><strong>生命周期</strong>，主要是使用 React 后，带来的生命周期调整，<a href="https://nervjs.github.io/taro/docs/migration/#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" target="_blank" rel="noopener noreferrer">请参见说明</a></li><li><strong>使用第三方 React 库</strong>，对于 redux、mobx 等 React 生态库，可以直接像 Web 开发那样直接使用，<a href="https://nervjs.github.io/taro/docs/migration/#%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9-react-%E5%BA%93" target="_blank" rel="noopener noreferrer">请参见说明</a></li><li><strong>Ref &amp; DOM</strong>，<a href="https://nervjs.github.io/taro/docs/migration/#ref--dom" target="_blank" rel="noopener noreferrer">请参见说明</a></li><li><strong>不再需要传入 $scope</strong>，在 Taro 1/2 时调用某些 API 需要传入 <code>this.$scope</code>，相当于传入组件对应的小程序原生对象，而 Taro 3 则不再需要，具体<a href="https://nervjs.github.io/taro/docs/migration/#scope-%E5%92%8C-componenttype" target="_blank" rel="noopener noreferrer">请参见说明</a></li><li><strong>样式调整</strong>，组件直接受全局样式影响，不再需要设置 <code>addGlobalClasses</code>，<a href="https://nervjs.github.io/taro/docs/migration/#%E6%A0%B7%E5%BC%8F" target="_blank" rel="noopener noreferrer">请参见说明</a></li></ul><p>当然，迁移指南内容并不仅仅局限于版本迁移，由于 Taro 3 相对与 Taro 1/2 有很多 breaking changes，所以建议使用 Taro 3 的开发者都能在开发前阅读一遍<a href="https://nervjs.github.io/taro/docs/migration" target="_blank" rel="noopener noreferrer">迁移指南</a>。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="不得不唠叨一下-taro-3-的正确使用姿势"></a>不得不唠叨一下 Taro 3 的正确使用姿势<a class="hash-link" href="#不得不唠叨一下-taro-3-的正确使用姿势" title="Direct link to heading">#</a></h2><p>正如前文所提到的，目前有很多开发者是从 Taro 3 才开始接触 Taro，而目前市面上很多 Taro 相关的教程和项目都是 Taro 1/2 的，这对于很多开发者来说会造成不小的困惑，所以行文到此，我们希望列举一些常见问题来帮助开发者规避掉一些不必要的错误。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-多版本共存问题"></a>Taro 多版本共存问题<a class="hash-link" href="#taro-多版本共存问题" title="Direct link to heading">#</a></h3><p>很多开发曾经使用 Taro 旧版本开发过项目，已经在全局安装了 Taro，但是想同时体验到 Taro 3，应该如何进行操作？</p><p>我们提供了两种思路：</p><ul><li>如果是需要新创建 Taro 3 项目，可以使用 <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">nvm</a> 来管理 node 版本，通过安装不同 node 版本来安装不同版本的 Taro CLI，从而解决 Taro 多版本共存的问题</li><li>如果是部分已有项目需要升级到 Taro 3，可以在这些项目本地安装相应版本的 Taro CLI，这样通过 <code>yarn</code> 或者 <code>npm</code> 执行命令的话就会直接使用本地安装的 Taro CLI，安装方式 <code>yarn add @tarojs/cli</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="将-taro-cli-版本与项目中-taro-相关依赖的版本保持一致"></a>将 Taro CLI 版本与项目中 Taro 相关依赖的版本保持一致<a class="hash-link" href="#将-taro-cli-版本与项目中-taro-相关依赖的版本保持一致" title="Direct link to heading">#</a></h3><p>请时刻注意将 Taro CLI 版本与项目中 Taro 相关依赖的版本保持一致。</p><p>CLI 与项目依赖版本不一致是导致很多问题出现的源头之一。例如，Taro CLI 版本为 3.0.8，那么 Taro 相关依赖的版本也必须是 3.0.8，Taro 相关包名可以从这个<a href="https://nervjs.github.io/taro/docs/CONTRIBUTING#taro-%E7%BB%84%E6%88%90" target="_blank" rel="noopener noreferrer">列表</a>得知，具体依赖项版本可以使用 <code>taro info</code> 命令或者通过 <code>package.json</code> 就能知晓。</p><p>如果发现不一致的情况可以使用 Taro 升级命令 <code>taro update self [版本号]</code> 和 <code>taro update project [版本号]</code>来分别将 CLI 和项目依赖升级到指定版本；或者也可以手动安装相应版本 CLI，修改 <code>package.json</code> 依赖版本号，然后重装依赖来解决。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="使用路由"></a>使用路由<a class="hash-link" href="#使用路由" title="Direct link to heading">#</a></h3><p>在 Taro 3 中使用路由在前文的版本迁移部分已有提及，同时需要了解更多内容可以前往<a href="https://nervjs.github.io/taro/docs/router" target="_blank" rel="noopener noreferrer">官方文档</a>查看。</p><p>非常值得注意的是，无论是获取项目传入参数还是页面入参，都是通过  <code>getCurrentInstance().router</code> 来获取的，具体使用如下。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-javascript codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> getCurrentInstance </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@tarojs/taro&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">C</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">getCurrentInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="如何获取页面节点信息"></a>如何获取页面节点信息<a class="hash-link" href="#如何获取页面节点信息" title="Direct link to heading">#</a></h3><p>由于 Taro 3 设计机制的原因，需要在新增的 <code>onReady</code> 生命周期内才能调用 Taro API 正确获取页面节点信息，小程序和 H5 都是如此。</p><p>而同时，在微信小程序中当页面节点嵌套过深时，超过一定层级（默认 16 级，可以通过编译配置 <code>baseLevel</code> 来控制）时，Taro 将转而使用自定义组件，然后再开启新的循环，在这种情况要争取获取页面节点信息的话，需要使用 <strong>跨自定义组件的后代选择器</strong> 来进行选择，可以参见 Taro <a href="https://github.com/NervJS/taro/issues/7411" target="_blank" rel="noopener noreferrer">相关 issue</a>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-ui-是不是不支持-taro-3-了"></a>Taro UI 是不是不支持 Taro 3 了<a class="hash-link" href="#taro-ui-是不是不支持-taro-3-了" title="Direct link to heading">#</a></h3><p>在 Taro 3 中依然可以使用 Taro UI，目前需要安装 Taro UI 的 alpha 版本。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> taro-ui@next</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Taro UI 作为 Taro 的官方 UI 库，依然处于维护状态，目前主要依靠社区力量在进行维护，同时也非常欢迎更多社区开发人员共同参与到 Taro UI 的迭代中来。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-ui-有没有-vue-版本"></a>Taro UI 有没有 Vue 版本<a class="hash-link" href="#taro-ui-有没有-vue-版本" title="Direct link to heading">#</a></h3><p>目前，Taro 官方没有推出 Vue 版本的 Taro UI 库，但在社区中有 Vue 版本的解决方案，如果使用 Vue 进行开发可以尝试 <a href="https://github.com/psaren/taro-ui-vue" target="_blank" rel="noopener noreferrer">taro-ui-vue</a>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="为什么-taro-3-打包出来的应用体积巨大"></a>为什么 Taro 3 打包出来的应用体积巨大<a class="hash-link" href="#为什么-taro-3-打包出来的应用体积巨大" title="Direct link to heading">#</a></h3><p>很多朋友会发现 Taro 3 的项目在预览的时候打包出来的包大小相比 Taro 1/2 要大上很多，然后非常紧张用了 Taro 3 会不会导致自己的主包超限。</p><p>诚然，在预览的时候 Taro 3 默认生成的包会比较大，主要是因为为了方便调试，预览时引用的 React 和 Vue 用的是调试用库，而且同时预览时会生成 sourceMap，这就导致预览时生成的包会大很多，但是在打包生产包（去掉 --watch）时，最终生成包还是会很小的，对线上不会有太大影响，同时 Taro 团队也正在尝试不断优化生产包大小，进一步优化 Taro 性能。</p><p>如果想要在预览时降低包大小，可以设置 <code>NODE_ENV</code> 为 <code>production</code> 来开启压缩，例如编译微信小程序</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Mac</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token assign-left variable" style="color:#36acaa">NODE_ENV</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">production taro build --type weapp --watch</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Windows</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">NODE_ENV</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">production </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> taro build --type weapp --watch</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="在-taro-3-中使用小程序原生页面及组件"></a>在 Taro 3 中使用小程序原生页面及组件<a class="hash-link" href="#在-taro-3-中使用小程序原生页面及组件" title="Direct link to heading">#</a></h3><p>在 Taro 3 中依然可以像 Taro 1/2 那样引入小程序原生页面及组件，且使用方式大体一致，不过在某些情况有些细微差别，比如 <code>slot</code> 的使用，在 Taro 1/2 中可以直接使用 <code>slot</code> 标签，而在 Taro 3 中则需要从 <code>@tarojs/components</code> 中引入 <code>Slot</code> 组件然后再进行使用。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Taro </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@tarojs/taro&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Component </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> View</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Slot </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@tarojs/components&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    show</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    date</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> show</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> date </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">index</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">van-button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">primary</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">showCalendar</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">显示日历</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">van-button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">van-calendar</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">show</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">show</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">showConfirm</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">range</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">onClose</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">closeCalendar</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">onConfirm</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">onConfirm</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Slot</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">title</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hello world</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Slot</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">van-calendar</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>具体使用情况可以参考项目 <a href="https://github.com/NervJS/taro3-vant-sample" target="_blank" rel="noopener noreferrer">taro3-vant-sample</a>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="有哪些-taro-官方的示例项目"></a>有哪些 Taro 官方的示例项目<a class="hash-link" href="#有哪些-taro-官方的示例项目" title="Direct link to heading">#</a></h3><p>目前 Taro 3 的社区示例项目还在完善中，Taro 官方则分别针对 React 和 Vue 提供了示例的组件库项目以供参考，安装最新版本的 Taro CLI，在创建项目时选择社区优质模板源创建即可进行体验。</p><p><img src="https://storage.360buyimg.com/taro-resource/template.jpg"></p><p>同时，Taro 官方还提供了一个 <a href="https://github.com/NervJS/TodoMVC" target="_blank" rel="noopener noreferrer">TodoMVC 项目</a>以供参考学习，React 和 Vue 示例分别在 react 和 vue 分支上。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="taro-物料市场中哪些物料能在-taro-3-中使用"></a>Taro 物料市场中哪些物料能在 Taro 3 中使用<a class="hash-link" href="#taro-物料市场中哪些物料能在-taro-3-中使用" title="Direct link to heading">#</a></h3><p>目前 Taro 物料市场没有做好针对物料的版本区分，我们会尽快启动这一项工作，为每个物料打上版本标识，当下要识别哪些物料能在 Taro 3 中使用，只能通过物料本身的 Taro 依赖项来进行识别。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="再聊聊-taro-的近期动作"></a>再聊聊 Taro 的近期动作<a class="hash-link" href="#再聊聊-taro-的近期动作" title="Direct link to heading">#</a></h2><p>Taro 社区及官方团队目前主要在集中人力做以下几项工作</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="实现支持平台与框架的自定义扩展"></a>实现支持平台与框架的自定义扩展<a class="hash-link" href="#实现支持平台与框架的自定义扩展" title="Direct link to heading">#</a></h3><p>细心的朋友应该已经发现，进入 Taro 3 时代，Taro 的推广 Slogan 已经由「多端统一开发解决方案」变成了「开放式跨端跨框架解决方案」，那么这两者之间有何差异呢？</p><p>可以看出「开放式跨端跨框架解决方案」包含了多端统一开发的特性，同时支持跨框架开发，而且更重要的是能够成为一个开放式的解决方案，我们希望开发者可以根据 Taro 提供的 API 开发一个插件就能实现自己去为 Taro 扩展更多平台与前端框架的支持，例如未来有些新的平台推出小程序，或者有人希望能在 Taro 中使用 Angular 等更多的前端框架，那么就可以通过 Taro 的开放式机制来自行扩展，而不用等待 Taro 官方来进行支持，Taro 将只作为一个跨端适配的平台，所有的可能性都可以让社区自己去自由发掘。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="实现小程序与-web-的同构"></a>实现小程序与 Web 的同构<a class="hash-link" href="#实现小程序与-web-的同构" title="Direct link to heading">#</a></h3><p>在当前 Taro 的设计下，使用 Taro 开发必须使用 Taro 标准组件库中的组件，而不能直接使用大家熟悉的 HTML 标签。我们正在努力打破这一藩篱，寻求支持让开发人员可以直接使用 HTML 标签来开发小程序的方案。</p><p>这样，既能进一步让 Taro 的开发体验接近 Web， 同时也能让一些 Web 生态资源可以直接运行在小程序中，极大降低从 Web 迁移到小程序的成本。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="说说缺席的-taro-3-rn-支持"></a>说说缺席的 Taro 3 RN 支持<a class="hash-link" href="#说说缺席的-taro-3-rn-支持" title="Direct link to heading">#</a></h3><p>很多朋友在升级到 Taro 3 之后都会发出疑问：RN 是不再支持了吗？</p><p>Taro 3 没有支持 RN 适配，让很多使用 Taro 开发 RN 应用的朋友措手不及，经常在群里能看到上述灵魂拷问。</p><p>事实上 Taro 并没有抛弃 RN，目前 Taro 3 RN 适配工作已经由 「58 同城」开发团队接管，进行适配支持，目前这项工作已经正在紧锣密鼓进行，相信不久的将来就能看到在 Taro 3 中 RN 的支持王者归来。而这一次的通力协作也意味着 Taro 核心团队正不断成长为一个跨公司的团队，在未来一定会有更多灵感的碰撞，为社区开发者带来更多精彩的功能。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="总结一下"></a>总结一下<a class="hash-link" href="#总结一下" title="Direct link to heading">#</a></h2><p>从目前的业界反馈与 Taro 自身规划来看，Taro 3 是一个非常值得尝试和期待的版本，已经有非常多的开发者开始使用 Taro 3 开发应用，在未来我们也会不断完善功能与文档，为大家带来更棒的开发体验。升级到 Taro 3 的过程或许稍显艰辛，但有任何问题，欢迎大家通过交流群和 GitHub issues 向我们进行反馈。</p><p>同时，诚挚邀请您与 Taro 官方团队交流您的使用情况，您的反馈是 Taro 前进的动力！请<a href="https://wj.qq.com/s2/6494361/09cf/" target="_blank" rel="noopener noreferrer">戳此</a>完成 Taro 使用调研问卷，提交问卷，将有可能获得 Taro 团队的红包哦！！感谢一路相伴，Taro 有你更精彩！</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/taro/blog/tags/v-3">v3</a></div></footer></article><div><a href="https://github.com/nervjs/taro/edit/blog/blog/2020-09-01-taro-versions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/taro/blog/2020-12-02-taro-3-2-0-cannary-1"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« 增加 React Native 支持的 Taro 3.2.0 版本测试通告</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/taro/blog/2020-07-01-taro-3-0-0"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Taro 3 正式版发布：开放式跨端跨框架解决方案 »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#区分-taro-版本的火眼金睛" class="table-of-contents__link">区分 Taro 版本的火眼金睛</a><ul><li><a href="#taro-12" class="table-of-contents__link">Taro 1/2</a></li><li><a href="#taro-3" class="table-of-contents__link">Taro 3</a></li><li><a href="#版本选择的取舍" class="table-of-contents__link">版本选择的取舍</a></li></ul></li><li><a href="#平滑升级不完全指南" class="table-of-contents__link">平滑升级不完全指南</a><ul><li><a href="#taro-1-升级到-taro-2" class="table-of-contents__link">Taro 1 升级到 Taro 2</a></li><li><a href="#taro-12-升级到-taro-3" class="table-of-contents__link">Taro 1/2 升级到 Taro 3</a></li></ul></li><li><a href="#不得不唠叨一下-taro-3-的正确使用姿势" class="table-of-contents__link">不得不唠叨一下 Taro 3 的正确使用姿势</a><ul><li><a href="#taro-多版本共存问题" class="table-of-contents__link">Taro 多版本共存问题</a></li><li><a href="#将-taro-cli-版本与项目中-taro-相关依赖的版本保持一致" class="table-of-contents__link">将 Taro CLI 版本与项目中 Taro 相关依赖的版本保持一致</a></li><li><a href="#使用路由" class="table-of-contents__link">使用路由</a></li><li><a href="#如何获取页面节点信息" class="table-of-contents__link">如何获取页面节点信息</a></li><li><a href="#taro-ui-是不是不支持-taro-3-了" class="table-of-contents__link">Taro UI 是不是不支持 Taro 3 了</a></li><li><a href="#taro-ui-有没有-vue-版本" class="table-of-contents__link">Taro UI 有没有 Vue 版本</a></li><li><a href="#为什么-taro-3-打包出来的应用体积巨大" class="table-of-contents__link">为什么 Taro 3 打包出来的应用体积巨大</a></li><li><a href="#在-taro-3-中使用小程序原生页面及组件" class="table-of-contents__link">在 Taro 3 中使用小程序原生页面及组件</a></li><li><a href="#有哪些-taro-官方的示例项目" class="table-of-contents__link">有哪些 Taro 官方的示例项目</a></li><li><a href="#taro-物料市场中哪些物料能在-taro-3-中使用" class="table-of-contents__link">Taro 物料市场中哪些物料能在 Taro 3 中使用</a></li></ul></li><li><a href="#再聊聊-taro-的近期动作" class="table-of-contents__link">再聊聊 Taro 的近期动作</a><ul><li><a href="#实现支持平台与框架的自定义扩展" class="table-of-contents__link">实现支持平台与框架的自定义扩展</a></li><li><a href="#实现小程序与-web-的同构" class="table-of-contents__link">实现小程序与 Web 的同构</a></li><li><a href="#说说缺席的-taro-3-rn-支持" class="table-of-contents__link">说说缺席的 Taro 3 RN 支持</a></li></ul></li><li><a href="#总结一下" class="table-of-contents__link">总结一下</a></li></ul></div></div></div></div></div><footer class="footer" id="footer"><div class="grid_c1 footer_cont"><div class="footer_logo_container"><div class="footer_logo"></div><span class="footer_designedby"></span></div><div class="footer_link_container"><div class="footer_link"><h3 class="footer_link_tit footer_link_tit1">相关资源</h3><p><a class="link" href="https://taro.jd.com/" target="_blank">Taro</a></p><p><a class="link" href="https://taro-ui.jd.com/" target="_blank">Taro UI</a></p><p><a class="link" href="https://at-ui.github.io/at-ui/#/zh" target="_blank">At-UI</a></p><p><a class="link" href="https://nerv.aotu.io/" target="_blank">Nerv</a></p><p><a class="link" href="https://athena.aotu.io/" target="_blank">Athena</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit2">社区</h3><p><a href="https://github.com/NervJS/taro/issues" target="_blank">GitHub</a></p><p><a href="https://taro-club.jd.com" target="_blank">Taro BBS</a></p><p class="footer_link_connect_wrap"><span class="footer_link_connect footer_link_wechat">微信<span class="wechat_qrcode_icon"><svg t="1554966525626" class="icon svgicon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2588" data-spm-anchor-id="a313x.7781069.0.i0"><path d="M240.071 241.095h59.278v59.278h-59.278v-59.278z" fill="" p-id="2589"></path><path d="M405.959 134.485h-272.611v272.611h106.723v47.445h59.278v-47.445h106.723v-59.278h47.445v-47.445h-47.445l-0.114-165.888zM346.795 347.819h-154.169v-154.055h154.055v154.055h0.114zM240.071 727.154h59.278v59.278h-59.278v-59.278zM726.016 241.095h59.278v59.278h-59.278v-59.278zM512.683 509.042v63.943h59.278v-59.165h47.445v-59.278h-47.445v-47.445h-59.278v101.945zM512.683 725.789v60.643h59.278v-106.723h47.445v-59.278h-106.723v105.358zM571.961 786.432h47.445v47.445h-47.445v-47.445zM453.405 833.877v59.165h118.557v-59.165h-118.557z" fill="" p-id="2590"></path><path d="M678.685 679.709h-59.278v106.723h106.61v-59.278h-47.331v-47.445zM726.016 893.042h166.002v-59.165h-106.723v-47.445h-59.278v106.61zM892.018 513.821v-59.278h-106.723v59.278h106.723zM832.739 727.154h59.278v59.278h-59.278v-59.278zM453.405 347.819h59.278v59.278h-59.278v-59.278zM726.016 454.542v-47.445h166.002v-272.611h-272.611v59.278h-106.723v47.445h106.723v59.165h-47.445v47.445h47.445v59.278h59.278v47.445h47.331zM678.685 193.763h154.055v154.055h-154.055v-154.055zM678.685 572.985h47.331v47.445h-47.331v-47.445zM785.294 679.709h-59.278v47.445h106.723v-106.723h59.278v-47.445h-106.723v106.723zM453.405 241.095h59.278v59.278h-59.278v-59.278zM299.349 513.821h47.445v59.165h-47.445v-59.165zM453.405 454.542h-106.61v59.278h59.165v59.165h47.445v-118.443z" fill="" p-id="2591"></path><path d="M405.959 786.432v-106.723h47.445v-59.278h-213.333v-106.61h-106.723v59.278h59.278v47.445h-59.278v272.611h272.611v-59.278h47.445v-47.445h-47.445zM346.795 833.877h-154.169v-154.169h154.055v154.169h0.114zM453.405 572.985h59.278v47.445h-59.278v-47.445zM619.406 513.821h59.278v59.165h-59.278v-59.165zM726.016 513.821h59.278v59.165h-59.278v-59.165z" fill="" p-id="2592"></path></svg></span></span><span class="footer_link_wechat_img"><img src="https://camo.githubusercontent.com/10834a234b99a5880b5dff7c0ca7235e2a0772e7/687474703a2f2f696d6732302e333630627579696d672e636f6d2f7562612f6a66732f7432303139372f3238332f313638373136383837342f3133363034322f32623464383131662f35623330613635634e39643166303366312e706e67"></span></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit3">关于我们</h3><p><a href="https://aotu.io/" target="_blank">凹凸实验室</a></p><p><a href="https://aotu.io/join/" target="_blank">加入我们</a></p><p><a href="mailto:taro@jd.com?subject=【Taro 合作】合作标题">联系我们</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit4">感谢</h3><p><a href="http://jdc.jd.com/" target="_blank">用户体验设计部</a></p><p><a href="https://github.com/nervjs/taro#%E8%B4%A1%E7%8C%AE%E8%80%85%E4%BB%AC" target="_blank">Taro 贡献者们</a></p></div></div></div><div class="copyright"><div class="in">Copyright © 2021. All Rights Reserved. 粤ICP备15077732号-2</div></div></footer></div>
<script src="/taro/styles.d18047fa.js"></script>
<script src="/taro/runtime~main.0669a4bd.js"></script>
<script src="/taro/main.8b5eee3f.js"></script>
<script src="/taro/1.8f28a8b3.js"></script>
<script src="/taro/2.2e73083e.js"></script>
<script src="/taro/01a85c17.a718bae6.js"></script>
<script src="/taro/18b93cb3.e828def7.js"></script>
<script src="/taro/1737.47ebaba8.js"></script>
<script src="/taro/5fc994c2.eeb2e112.js"></script>
<script src="/taro/6875c492.c92d2928.js"></script>
<script src="/taro/a6aa9e1f.4c6581a9.js"></script>
<script src="/taro/c42b0552.a188fe18.js"></script>
<script src="/taro/ccc49370.85e25f40.js"></script>
<script src="/taro/75e89b51.916b0b22.js"></script>
<script src="/taro/422fde27.c350d3a9.js"></script>
</body>
</html>