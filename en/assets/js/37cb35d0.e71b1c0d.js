"use strict";(self.webpackChunktaro_docs=self.webpackChunktaro_docs||[]).push([[65928],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(n),u=a,h=c["".concat(s,".").concat(u)]||c[u]||m[u]||r;return n?o.createElement(h,i(i({ref:t},d),{},{components:n})):o.createElement(h,i({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2977:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return d},default:function(){return c}});var o=n(83117),a=n(80102),r=(n(67294),n(3905)),i=["components"],l={title:"Troubleshooting"},s=void 0,p={unversionedId:"taroize-troubleshooting",id:"taroize-troubleshooting",title:"Troubleshooting",description:"Unsupported Mini Program Features",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/taroize-troubleshooting.md",sourceDirName:".",slug:"/taroize-troubleshooting",permalink:"/taro/en/docs/next/taroize-troubleshooting",editUrl:"https://github.com/nervjs/taro/edit/docs/docs/taroize-troubleshooting.md",tags:[],version:"current",frontMatter:{title:"Troubleshooting"},sidebar:"docs",previous:{title:"Convert to React",permalink:"/taro/en/docs/next/convert-to-react"},next:{title:"Overview",permalink:"/taro/en/docs/next/platform-plugin"}},d=[{value:"Unsupported Mini Program Features",id:"unsupported-mini-program-features",children:[{value:"App Object",id:"app-object",children:[],level:3},{value:"Page Object",id:"page-object",children:[],level:3},{value:"Custom Component",id:"custom-component",children:[],level:3},{value:"Wxml Syntax",id:"wxml-syntax",children:[],level:3}],level:2},{value:"Key Questions",id:"key-questions",children:[{value:"1. No base class handled",id:"1-no-base-class-handled",children:[],level:3},{value:"2. Style Scopes",id:"2-style-scopes",children:[{value:"Solution.",id:"solution",children:[],level:4}],level:3}],level:2},{value:"Frequently Asked Questions",id:"frequently-asked-questions",children:[{value:"1. wxml syntax conversion problem",id:"1-wxml-syntax-conversion-problem",children:[{value:"1.1 Component conversion error when using both <code>wx:for</code> and <code>wx:if</code> statements",id:"11-component-conversion-error-when-using-both-wxfor-and-wxif-statements",children:[],level:4},{value:"1.2 The root element cannot contain the <code>hidden</code> attribute.",id:"12-the-root-element-cannot-contain-the-hidden-attribute",children:[],level:4},{value:"1.3 Compile with an error: SyntaxError: Unexpected token",id:"13-compile-with-an-error-syntaxerror-unexpected-token",children:[{value:"Solution",id:"solution-1",children:[],level:5}],level:4},{value:"1.4 Run with the following error\uff1a ReferenceError: item is not defined",id:"14-run-with-the-following-error-referenceerror-item-is-not-defined",children:[{value:"Solution:",id:"solution-2",children:[],level:5}],level:4},{value:"1.5 The GetRegExp method in WXS is not supported.",id:"15-the-getregexp-method-in-wxs-is-not-supported",children:[],level:4},{value:"1.6 The use of <code>&lt;template&gt;</code> is not supported in <code>&lt;include&gt;</code>",id:"16-the-use-of-template-is-not-supported-in-include",children:[],level:4},{value:"1.7 The catch event is not supported in the template at this time",id:"17-the-catch-event-is-not-supported-in-the-template-at-this-time",children:[],level:4}],level:3},{value:"2. Event",id:"2-event",children:[],level:3},{value:"3. CommonJS and ES modular syntax do not mix",id:"3-commonjs-and-es-modular-syntax-do-not-mix",children:[],level:3},{value:"4. The selectorQuery API does not get the DOM.",id:"4-the-selectorquery-api-does-not-get-the-dom",children:[],level:3},{value:"5. Image does not handle dynamically stitched src",id:"5-image-does-not-handle-dynamically-stitched-src",children:[],level:3},{value:"6. The argument to require cannot be a variable",id:"6-the-argument-to-require-cannot-be-a-variable",children:[],level:3},{value:"7. The export from syntax is not handled",id:"7-the-export-from-syntax-is-not-handled",children:[],level:3},{value:"8. Issues",id:"8-issues",children:[],level:3}],level:2}],m={toc:d};function c(e){var t=e.components,n=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"unsupported-mini-program-features"},"Unsupported Mini Program Features"),(0,r.kt)("h3",{id:"app-object"},"App Object"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Property"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"onError"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"onPageNotFound"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"onUnhandledRejection"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"onThemeChange"),(0,r.kt)("td",{parentName:"tr",align:"left"})))),(0,r.kt)("h3",{id:"page-object"},"Page Object"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Property"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"selectComponent"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Recommended to refactor with React ref")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"selectAllComponents"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Recommended to refactor with React ref")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"selectOwnerComponent"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Recommended to refactor with React ref")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"groupSetData"),(0,r.kt)("td",{parentName:"tr",align:"left"})))),(0,r.kt)("h3",{id:"custom-component"},"Custom Component"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Property"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"moved"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"externalClasses"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Taro 3 does not have custom components, it is recommended to standardize class names or use CSS Module instead")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"relations"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"options"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"definitionFilter"),(0,r.kt)("td",{parentName:"tr",align:"left"})))),(0,r.kt)("h3",{id:"wxml-syntax"},"Wxml Syntax"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Property"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Circulation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"[Some grammar restrictions apply]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Event"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"./taroize-troubleshooting#2-%E4%BA%8B%E4%BB%B6"},"Some grammar restrictions apply"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Citation"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"./taroize-troubleshooting#16-include-%E9%87%8C%E4%B8%8D%E6%94%AF%E6%8C%81%E4%BD%BF%E7%94%A8-template"},"Some grammar restrictions apply"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"wxs"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"./taroize-troubleshooting#15-%E4%B8%8D%E6%94%AF%E6%8C%81-wxs-%E9%87%8C%E7%9A%84-getregexp-%E6%96%B9%E6%B3%95"},"Some grammar restrictions apply"))))),(0,r.kt)("h2",{id:"key-questions"},"Key Questions"),(0,r.kt)("h3",{id:"1-no-base-class-handled"},"1. No base class handled"),(0,r.kt)("p",null,"In native development, the public logic of App, Page, and Component construction objects are often integrated into base classes."),(0,r.kt)("p",null,"As ",(0,r.kt)("strong",{parentName:"p"},"Vant-weapp"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// Component\nVantComponent({\n  data: {}\n})\n// Base Classes\nfunction VantComponent(vantOptions = {}) {\n  // Integrate component-specific configuration vantOptions and public configuration into the final configuration object options\n  // ...\n\n  // Call the Component method of the mini program to construct a custom component\n  Component(options);\n}\n")),(0,r.kt)("p",null,"Taro only recognizes the ",(0,r.kt)("inlineCode",{parentName:"p"},"App()"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Page()"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Component()")," calls that exist in the entry, page, and component files at compile time, and these calls do not exist when the configuration is wrapped using the base class. So the compiled ",(0,r.kt)("inlineCode",{parentName:"p"},"withWeapp")," gets the parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"{}"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"VantComponent({\n  data: {}\n})\n// The mini program configuration object should be passed into withWeapp\n@withWeapp({})\nclass _C extends React.Component {}\n")),(0,r.kt)("p",null,"Therefore we need to manually modify."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// Base classes\nfunction VantComponent(vantOptions = {}) {\n  // Integrate the component-specific configuration vantOptions and the public configuration into the final configuration object options\n  // ...\n\n  // Call the Component method of the mini program to construct a custom component\n  // Component(options);\n  \n  // 1. The base class returns the integrated options directly\n  return options\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// 2. Pass the configuration created by the base class into withWeapp.\nconst options = VantComponent({\n  data: {}\n})\n@withWeapp(options)\nclass _C extends React.Component {}\n")),(0,r.kt)("h3",{id:"2-style-scopes"},"2. Style Scopes"),(0,r.kt)("p",null,"The custom component in WeChat mini program will generate a React/Vue component in Taro after conversion."),(0,r.kt)("p",null,"However, the components developed in Taro using React/Vue will not generate the corresponding mini program custom components when compiled to the mini program platform."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"}," Therefore, the style isolation feature of the WeChat mini program custom component is lost after the conversion to Taro. ")),(0,r.kt)("h4",{id:"solution"},"Solution."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Modify the conflicting selector."),(0,r.kt)("li",{parentName:"ol"},"Use CSS Modules to rewrite.")),(0,r.kt)("h2",{id:"frequently-asked-questions"},"Frequently Asked Questions"),(0,r.kt)("h3",{id:"1-wxml-syntax-conversion-problem"},"1. wxml syntax conversion problem"),(0,r.kt)("p",null,"Converting ",(0,r.kt)("inlineCode",{parentName:"p"},"wxml")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"JSX")," is achieved by manipulating ",(0,r.kt)("inlineCode",{parentName:"p"},"AST"),", and there are some writes that may not take into account, or may be difficult to adapt, resulting in error reporting."),(0,r.kt)("p",null,"The following are some known issues that need to be fixed manually."),(0,r.kt)("h4",{id:"11-component-conversion-error-when-using-both-wxfor-and-wxif-statements"},"1.1 Component conversion error when using both ",(0,r.kt)("inlineCode",{parentName:"h4"},"wx:for")," and ",(0,r.kt)("inlineCode",{parentName:"h4"},"wx:if")," statements"),(0,r.kt)("p",null,"When both ",(0,r.kt)("inlineCode",{parentName:"p"},"wx:for")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"wx:if")," statements are used on the component, and the current ",(0,r.kt)("strong",{parentName:"p"},"loop element item")," or ",(0,r.kt)("strong",{parentName:"p"},"loop subscript index")," is used as the judgment condition, the conversion will report an error."),(0,r.kt)("p",null,"eg:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// Before the conversion (note that the condition uses the circular subscript index).\n<block wx:for="{{objectArray}}" wx:if="{{index % 2 !== 0}}">\n  <view>objectArray item: {{item.id}}</view>\n</block>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// After the conversion\n{index % 2 !== 0 && (\n  <Block>\n    {objectArray.map((item, index) => {\n      return (\n        <Block>\n          <View>{'objectArray item: ' + item.id}</View>\n        </Block>\n      )\n    })}\n  </Block>\n)}\n")),(0,r.kt)("p",null,"As you can see in the above example, for the conversion of conditional statements, the current processing extracts the condition outside the component. However, if the condition uses ",(0,r.kt)("inlineCode",{parentName:"p"},"item")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"index"),", such extraction logic will result in an error reporting ",(0,r.kt)("strong",{parentName:"p"},"variable not defined"),"."),(0,r.kt)("p",null,"For the time being, this can be fixed manually by fixing."),(0,r.kt)("p",null,"Method 1, modify the code ",(0,r.kt)("strong",{parentName:"p"},"before compiling")," to split the loop and conditional statements into two components."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'<block wx:for="{{objectArray}}">\n  <block wx:if="{{index % 2 !== 0}}">\n    <view>objectArray item: {{item.id}}</view>\n  </block>\n</block>\n')),(0,r.kt)("p",null,"Method two, modify the code of ",(0,r.kt)("strong",{parentName:"p"},"post-compile")," to put the conditional judgment into the loop body."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"<Block>\n  {objectArray.map((item, index) => {\n    return (\n      <Block>\n        {index % 2 !== 0 && <View>{'objectArray item: ' + item.id}</View>}\n      </Block>\n    )\n  })}\n</Block>\n")),(0,r.kt)("h4",{id:"12-the-root-element-cannot-contain-the-hidden-attribute"},"1.2 The root element cannot contain the ",(0,r.kt)("inlineCode",{parentName:"h4"},"hidden")," attribute."),(0,r.kt)("h4",{id:"13-compile-with-an-error-syntaxerror-unexpected-token"},"1.3 Compile with an error: SyntaxError: Unexpected token"),(0,r.kt)("p",null,'A space is required to the right of the apostrophe "<". ',(0,r.kt)("a",{parentName:"p",href:"https://github.com/NervJS/taro/issues/4243"},"#4243")),(0,r.kt)("h5",{id:"solution-1"},"Solution"),(0,r.kt)("p",null,"Check for the following writing style."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'<view>{{a <4? "1": "2"}}</view>\n')),(0,r.kt)("p",null,"Change to\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'<view>{{a < 4? "1": "2"}}</view>\n')),(0,r.kt)("h4",{id:"14-run-with-the-following-error-referenceerror-item-is-not-defined"},"1.4 Run with the following error\uff1a ReferenceError: item is not defined"),(0,r.kt)("p",null,"Look at the compiled JSX to see if the variable was removed from ",(0,r.kt)("inlineCode",{parentName:"p"},"this.data")," because it was omitted, eg:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"// The following code does not reference item\nconst { a, b, c } = this.data\n")),(0,r.kt)("h5",{id:"solution-2"},"Solution:"),(0,r.kt)("p",null,"The variable name in ",(0,r.kt)("inlineCode",{parentName:"p"},"this.data")," should not be the same as the variable name used to specify the current subscript of the array, which defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"item"),", or the variable name specified by ",(0,r.kt)("inlineCode",{parentName:"p"},"wx:for-index"),"."),(0,r.kt)("h4",{id:"15-the-getregexp-method-in-wxs-is-not-supported"},"1.5 The GetRegExp method in WXS is not supported."),(0,r.kt)("p",null,"Construct regular expressions using ",(0,r.kt)("inlineCode",{parentName:"p"},"RegExp"),"."),(0,r.kt)("h4",{id:"16-the-use-of-template-is-not-supported-in-include"},"1.6 The use of ",(0,r.kt)("inlineCode",{parentName:"h4"},"<template>")," is not supported in ",(0,r.kt)("inlineCode",{parentName:"h4"},"<include>")),(0,r.kt)("h4",{id:"17-the-catch-event-is-not-supported-in-the-template-at-this-time"},"1.7 The catch event is not supported in the template at this time"),(0,r.kt)("h3",{id:"2-event"},"2. Event"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Events do not support binding strings."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"catchtouchmove")," conversion only stops the callback function from bubbling, it does not prevent scroll-through. To prevent scroll-through, you can manually add the ",(0,r.kt)("inlineCode",{parentName:"li"},"catchMove")," property to the compiled ",(0,r.kt)("inlineCode",{parentName:"li"},"View")," component."),(0,r.kt)("li",{parentName:"ul"},"Event capture phase is not supported."),(0,r.kt)("li",{parentName:"ul"},"Responding to events with WXS functions is not supported."),(0,r.kt)("li",{parentName:"ul"},"Mutually exclusive event binding ",(0,r.kt)("inlineCode",{parentName:"li"},"mut-bind")," is not supported."),(0,r.kt)("li",{parentName:"ul"},"Does not support ",(0,r.kt)("inlineCode",{parentName:"li"},"mark")," to identify the specific target node that triggered the event.")),(0,r.kt)("h3",{id:"3-commonjs-and-es-modular-syntax-do-not-mix"},"3. CommonJS and ES modular syntax do not mix"),(0,r.kt)("p",null,"Possible error messages encountered."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Cannot assign to read only property 'exports' of object"),(0,r.kt)("li",{parentName:"ul"},"export '","[something]","' (imported as '","[name]","') was not found in '","[somePath]","'")),(0,r.kt)("p",null,"Where the mini program API is used, Taro will convert ",(0,r.kt)("inlineCode",{parentName:"p"},"wx.api()")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"Taro.api()")," and add ",(0,r.kt)("inlineCode",{parentName:"p"},"import Taro from '@tarjs/taro")," to the header of the file."),(0,r.kt)("p",null,"If this file originally used ",(0,r.kt)("strong",{parentName:"p"},"CommonJS")," to organize the module, it may cause problems and need to be fixed manually."),(0,r.kt)("h3",{id:"4-the-selectorquery-api-does-not-get-the-dom"},"4. The selectorQuery API does not get the DOM."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"must be in the ",(0,r.kt)("inlineCode",{parentName:"li"},"onReady"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"ready")," life cycle to call the mini program API to get the DOM. 2."),(0,r.kt)("li",{parentName:"ol"},"You don't need to call ",(0,r.kt)("inlineCode",{parentName:"li"},".in(this)")," method.")),(0,r.kt)("h3",{id:"5-image-does-not-handle-dynamically-stitched-src"},"5. Image does not handle dynamically stitched src"),(0,r.kt)("p",null,"Taro will process the src of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Image")," component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// Before conversion.\n<Image src='../../img/icons/0.png' />\n// After conversion.\n<Image src={require('../../img/icons/0.png')} />\n")),(0,r.kt)("p",null,"However, if ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," is a dynamically spliced string, you need to modify it manually: ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," is a dynamically spliced string."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// Before conversion.\n<Image src='../../img/icons/' + chart.id + '.png' />\n// After conversion.\n<Image src='../../img/icons/' + chart.id + '.png' />\n// For manual changes, the images also need to be manually copied to the corresponding directory in taroConert/src.\n<Image src={require('../../img/icons/' + chart.id + '.png')} />\n")),(0,r.kt)("h3",{id:"6-the-argument-to-require-cannot-be-a-variable"},"6. The argument to require cannot be a variable"),(0,r.kt)("p",null,"Possible error messages encountered:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'The "path" argument must be of type string. Received type undefined')),(0,r.kt)("p",null,"Does not support converting the following writeups.",(0,r.kt)("a",{parentName:"p",href:"https://github.com/NervJS/taro/issues/4749"},"#4749"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var pathTest = './test.js'\nvar test = require(pathTest)\n")),(0,r.kt)("p",null,"Taro can currently only convert ",(0,r.kt)("inlineCode",{parentName:"p"},"require")," strings to be written."),(0,r.kt)("h3",{id:"7-the-export-from-syntax-is-not-handled"},"7. The export from syntax is not handled"),(0,r.kt)("p",null,"Temporary manual handling ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/NervJS/taro/issues/5131"},"#5131"),"\u3002"),(0,r.kt)("h3",{id:"8-issues"},"8. Issues"),(0,r.kt)("p",null,"For more questions on reverse conversion, please refer to the Taroize related ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/NervJS/taro/issues?q=is%3Aopen+is%3Aissue+label%3AA-taroize"},"Issues"),"\u3002"))}c.isMDXComponent=!0}}]);